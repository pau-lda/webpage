---
import TabBar from "../../components/TabBar.astro";
import Layout from "../../layouts/Layout.astro";
import Work from "../../components/Work.astro";
import '../../styles/global.css';
import projectdata from '../../data/raw/dataProjects.json';
---

<Layout title="Projects">
    <TabBar slot="header-container" transition:persist/>
    <main>
        {
            projectdata.sort((a,b) => Date.parse(b.date_start) - Date.parse(a.date_start)).map((item,idx) => {
                return <Work 
                    company={item.company} 
                    title={item.title} 
                    date_start={new Date(item.date_start)} 
                    date_end={new Date(item.date_end)}
                    description={item.description}
                    index={idx}
                />
            })
        }
    </main>
</Layout>